chapter6练习
===========================================

编程作业
-------------------------------------------


实验要求
+++++++++++++++++++++++++++++++++++++++++++++

.. - 实现分支：ch6。
.. - 完成实验指导书中的内容，实现进程控制，可以基于 pipe 进行进程通信。
.. - 实现邮箱机制及系统调用，并通过 `Rust测例 <https://github.com/DeathWish5/rCore_tutorial_tests>`_ 中 chapter6 对应的所有测例。

.. challenge: 支持多核。

实验检查
++++++++++++++++++++++++++++++++++++++++++++++

.. - 实验目录要求

..     目录要求不变（参考 lab1 目录或者示例代码目录结构）。同样在 os 目录下 ``make run`` 之后可以正确加载用户程序并执行。

..     加载的用户测例位置： ``../user/build/bin``。

.. - 检查

..     可以正确 ``make run`` 执行，可以正确执行目标用户测例，并得到预期输出（详见测例注释）。

问答作业
-------------------------------------------

.. (1) 举出使用 pipe 的一个实际应用的例子。

.. (2) 假设我们的邮箱现在有了更加强大的功能，容量大幅增加而且记录邮件来源，可以实现“回信”。考虑一个多核场景，有 m 个核为消费者，n 个为生产者，消费者通过邮箱向生产者提出订单，生产者通过邮箱回信给出产品。

..   - 假设你的邮箱实现没有使用锁等机制进行保护，在多核情景下可能会发生哪些问题？单核一定不会发生问题吗？为什么？
..   - 请结合你在课堂上学到的内容，描述读者写者问题的经典解决方案，必要时提供伪代码。
..   - 由于读写是基于报文的，不是随机读写，你有什么点子来优化邮箱的实现吗？


报告要求
---------------------------------------

- 简单总结你实现的功能（200字以内，不要贴代码）。
- 完成问答题。
- (optional) 你对本次实验设计及难度/工作量的看法，以及有哪些需要改进的地方，欢迎畅所欲言。